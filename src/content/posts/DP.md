---
title: DP
published: 2025-06-12
description: ''
image: ''
tags: [算法，DP]
category: '算法'
draft: false 
lang: ''
---
# $\text{DP}$ 简介
动态规划（Dynamic Programming, DP）是一种通过将一个问题分解成简单子问题从而解决复杂问题的**方法**（$\text{DP}$ 并不是一种具体的算法，而是一种思想）

---

# $\text{DP}$ 基础
## 引入
[[IOI 1994] 数字三角形 Number Triangles](https://www.luogu.com.cn/problem/P1216)
给出一个 $r$ 行的数字三角形，需找出一条从最高点出发到最底一层的路径使得该路径上的数字之和最大。其中每一步可以走到当前点的左下方和右下方。

首先可以暴力地遍历每一条路径，找出最大的值，但时间复杂度为 $O(2^r)$，直接爆炸。

进一步思考，可以记录每一次当前所在点的答案，每次取上一层最大的答案再加上当前点，则为当前点所能达到最大的权值。最后遍历最后一行，找出这一行中最大值即可。

## 原理
能用动态规划解决的问题需满足三个条件：


# $\text{DP}$ 优化
## 单调队列/单调栈优化
单调队列主要维护两端指针单调不减的区间最值。
单调栈主要维护前/后第一大于/小于当前值的数。
### 单调队列优化的具体步骤

- 加入所需元素：重复加入元素，直到区间达到右边界，这能保证所需元素都在队列中。
- 弹出越界元素：单调队列本质维护的是区间最值，我们弹出左边界外的元素，使所有需要的元素都在队列中。
- 获取最值：直接取出队首元素即可。

### 单调栈优化的具体步骤

- 弹出非法栈顶：比较栈顶元素于备选元素，弹出不符合的元素，使整个栈保持单调性。
- 将当前元素入栈。

